<% if resource.linked_resource %>
   <% resorce_holder = [resource.linked_resource] %>
   <% id_holder = :id %>
   <% name_holder = :pretty_name %>
   <% active_id_holder = resource.linked_resource.id %>
 <% end %>
 <%= f.field_container :linked_resource_id, class: ['form-group'] do %>
   <%= f.label :linked_resource_id, Spree.t('taxon') %>
   <%= f.select :linked_resource_id, options_from_collection_for_select(resorce_holder || [] , id_holder, name_holder, active_id_holder || nil), { include_blank: true }, class: 'autocomplete' %>
   <%= f.error_message_on :linked_resource_id %>
   <small class="form-text text-muted"><%= resource.link %></small>
 <% end %>

 <script>
   document.addEventListener('DOMContentLoaded', function() {
     $('.autocomplete').select2Autocomplete({
       data_attrbute_name: 'taxons',
       placeholder: "<%= Spree.t('admin.navigation.seach_for_a_taxon') %>",
       allow_clear: true,
       apiUrl: Spree.routes.taxons_api_v2,
       return_attribute: 'pretty_name'
     })
   })
 </script>
